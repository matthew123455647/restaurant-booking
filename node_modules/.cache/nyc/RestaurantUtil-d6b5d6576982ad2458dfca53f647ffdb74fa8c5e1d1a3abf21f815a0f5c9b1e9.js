function cov_1p9c4yxcjo(){var path="C:\\Users\\demon\\Documents\\DVOPS_Projects\\draft7\\restaurant-booking\\utils\\RestaurantUtil.js";var hash="791937c38716c383b533111c8977a1d445da8345";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\demon\\Documents\\DVOPS_Projects\\draft7\\restaurant-booking\\utils\\RestaurantUtil.js",statementMap:{"0":{start:{line:1,column:32},end:{line:1,column:53}},"1":{start:{line:2,column:23},end:{line:2,column:54}},"2":{start:{line:5,column:2},end:{line:11,column:3}},"3":{start:{line:6,column:27},end:{line:6,column:69}},"4":{start:{line:7,column:4},end:{line:7,column:48}},"5":{start:{line:9,column:4},end:{line:9,column:53}},"6":{start:{line:10,column:4},end:{line:10,column:70}},"7":{start:{line:15,column:2},end:{line:40,column:3}},"8":{start:{line:16,column:27},end:{line:16,column:69}},"9":{start:{line:17,column:17},end:{line:17,column:32}},"10":{start:{line:20,column:4},end:{line:24,column:5}},"11":{start:{line:21,column:6},end:{line:23,column:9}},"12":{start:{line:27,column:28},end:{line:29,column:5}},"13":{start:{line:28,column:15},end:{line:28,column:42}},"14":{start:{line:30,column:4},end:{line:32,column:5}},"15":{start:{line:31,column:6},end:{line:31,column:51}},"16":{start:{line:35,column:4},end:{line:35,column:69}},"17":{start:{line:37,column:4},end:{line:37,column:59}},"18":{start:{line:39,column:4},end:{line:39,column:70}},"19":{start:{line:43,column:0},end:{line:46,column:2}}},fnMap:{"0":{name:"viewRestaurant",decl:{start:{line:4,column:15},end:{line:4,column:29}},loc:{start:{line:4,column:40},end:{line:12,column:1}},line:4},"1":{name:"viewRestaurantByName",decl:{start:{line:14,column:15},end:{line:14,column:35}},loc:{start:{line:14,column:46},end:{line:41,column:1}},line:14},"2":{name:"(anonymous_2)",decl:{start:{line:28,column:6},end:{line:28,column:7}},loc:{start:{line:28,column:15},end:{line:28,column:42}},line:28}},branchMap:{"0":{loc:{start:{line:20,column:4},end:{line:24,column:5}},type:"if",locations:[{start:{line:20,column:4},end:{line:24,column:5}},{start:{line:20,column:4},end:{line:24,column:5}}],line:20},"1":{loc:{start:{line:30,column:4},end:{line:32,column:5}},type:"if",locations:[{start:{line:30,column:4},end:{line:32,column:5}},{start:{line:30,column:4},end:{line:32,column:5}}],line:30}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0},f:{"0":0,"1":0,"2":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"791937c38716c383b533111c8977a1d445da8345"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1p9c4yxcjo=function(){return actualCoverage;};}return actualCoverage;}cov_1p9c4yxcjo();const{readJSON,writeJSON}=(cov_1p9c4yxcjo().s[0]++,require('./UserUtil'));const{Restaurant}=(cov_1p9c4yxcjo().s[1]++,require('../models/Restaurant'));async function viewRestaurant(req,res){cov_1p9c4yxcjo().f[0]++;cov_1p9c4yxcjo().s[2]++;try{const allRestaurants=(cov_1p9c4yxcjo().s[3]++,await readJSON('./utils/restaurants.json'));cov_1p9c4yxcjo().s[4]++;return res.status(200).json(allRestaurants);// Change status to 200 for successful response
}catch(error){cov_1p9c4yxcjo().s[5]++;console.error('Error in viewRestaurant:',error);cov_1p9c4yxcjo().s[6]++;return res.status(500).json({message:'Internal server error'});}}async function viewRestaurantByName(req,res){cov_1p9c4yxcjo().f[1]++;cov_1p9c4yxcjo().s[7]++;try{const allRestaurants=(cov_1p9c4yxcjo().s[8]++,await readJSON('./utils/restaurants.json'));const name=(cov_1p9c4yxcjo().s[9]++,req.params.name);// Validate that the name is a string
cov_1p9c4yxcjo().s[10]++;if(typeof name!=='string'){cov_1p9c4yxcjo().b[0][0]++;cov_1p9c4yxcjo().s[11]++;return res.status(400).json({message:'Invalid restaurant name. Please provide a string.'});}else{cov_1p9c4yxcjo().b[0][1]++;}// Test Case: Get Existing Restaurant by Name
const foundRestaurant=(cov_1p9c4yxcjo().s[12]++,allRestaurants.find(res=>{cov_1p9c4yxcjo().f[2]++;cov_1p9c4yxcjo().s[13]++;return res.restaurantName===name;}));cov_1p9c4yxcjo().s[14]++;if(foundRestaurant){cov_1p9c4yxcjo().b[1][0]++;cov_1p9c4yxcjo().s[15]++;return res.status(200).json(foundRestaurant);}else{cov_1p9c4yxcjo().b[1][1]++;}// Test Case: Get Non-existent Restaurant by Name
cov_1p9c4yxcjo().s[16]++;return res.status(404).json({message:'Restaurant not found'});}catch(error){cov_1p9c4yxcjo().s[17]++;console.error('Error in viewRestaurantByName:',error);// Test Case: Error Handling - Internal Server Error
cov_1p9c4yxcjo().s[18]++;return res.status(500).json({message:'Internal server error'});}}cov_1p9c4yxcjo().s[19]++;module.exports={viewRestaurant,viewRestaurantByName};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMXA5YzR5eGNqbyIsImFjdHVhbENvdmVyYWdlIiwicmVhZEpTT04iLCJ3cml0ZUpTT04iLCJzIiwicmVxdWlyZSIsIlJlc3RhdXJhbnQiLCJ2aWV3UmVzdGF1cmFudCIsInJlcSIsInJlcyIsImYiLCJhbGxSZXN0YXVyYW50cyIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsImNvbnNvbGUiLCJtZXNzYWdlIiwidmlld1Jlc3RhdXJhbnRCeU5hbWUiLCJuYW1lIiwicGFyYW1zIiwiYiIsImZvdW5kUmVzdGF1cmFudCIsImZpbmQiLCJyZXN0YXVyYW50TmFtZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJSZXN0YXVyYW50VXRpbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IHJlYWRKU09OLCB3cml0ZUpTT04gfSA9IHJlcXVpcmUoJy4vVXNlclV0aWwnKTtcclxuY29uc3QgeyBSZXN0YXVyYW50IH0gPSByZXF1aXJlKCcuLi9tb2RlbHMvUmVzdGF1cmFudCcpO1xyXG5cclxuYXN5bmMgZnVuY3Rpb24gdmlld1Jlc3RhdXJhbnQocmVxLCByZXMpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgYWxsUmVzdGF1cmFudHMgPSBhd2FpdCByZWFkSlNPTignLi91dGlscy9yZXN0YXVyYW50cy5qc29uJyk7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oYWxsUmVzdGF1cmFudHMpOyAvLyBDaGFuZ2Ugc3RhdHVzIHRvIDIwMCBmb3Igc3VjY2Vzc2Z1bCByZXNwb25zZVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiB2aWV3UmVzdGF1cmFudDonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9KTtcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHZpZXdSZXN0YXVyYW50QnlOYW1lKHJlcSwgcmVzKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGFsbFJlc3RhdXJhbnRzID0gYXdhaXQgcmVhZEpTT04oJy4vdXRpbHMvcmVzdGF1cmFudHMuanNvbicpO1xyXG4gICAgY29uc3QgbmFtZSA9IHJlcS5wYXJhbXMubmFtZTtcclxuXHJcbiAgICAvLyBWYWxpZGF0ZSB0aGF0IHRoZSBuYW1lIGlzIGEgc3RyaW5nXHJcbiAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgbWVzc2FnZTogJ0ludmFsaWQgcmVzdGF1cmFudCBuYW1lLiBQbGVhc2UgcHJvdmlkZSBhIHN0cmluZy4nLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBUZXN0IENhc2U6IEdldCBFeGlzdGluZyBSZXN0YXVyYW50IGJ5IE5hbWVcclxuICAgIGNvbnN0IGZvdW5kUmVzdGF1cmFudCA9IGFsbFJlc3RhdXJhbnRzLmZpbmQoXHJcbiAgICAgIChyZXMpID0+IHJlcy5yZXN0YXVyYW50TmFtZSA9PT0gbmFtZVxyXG4gICAgKTtcclxuICAgIGlmIChmb3VuZFJlc3RhdXJhbnQpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKGZvdW5kUmVzdGF1cmFudCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVGVzdCBDYXNlOiBHZXQgTm9uLWV4aXN0ZW50IFJlc3RhdXJhbnQgYnkgTmFtZVxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ1Jlc3RhdXJhbnQgbm90IGZvdW5kJyB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gdmlld1Jlc3RhdXJhbnRCeU5hbWU6JywgZXJyb3IpO1xyXG4gICAgLy8gVGVzdCBDYXNlOiBFcnJvciBIYW5kbGluZyAtIEludGVybmFsIFNlcnZlciBFcnJvclxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICB2aWV3UmVzdGF1cmFudCxcclxuICB2aWV3UmVzdGF1cmFudEJ5TmFtZSxcclxufTsiXSwibWFwcGluZ3MiOiJ1dEZBZVk7QUFBQUEsY0FBQSxTQUFBQSxDQUFBLFNBQUFDLGNBQUEsV0FBQUEsY0FBQSxFQUFBRCxjQUFBLEdBZlosS0FBTSxDQUFFRSxRQUFRLENBQUVDLFNBQVUsQ0FBQyxFQUFBSCxjQUFBLEdBQUFJLENBQUEsTUFBR0MsT0FBTyxDQUFDLFlBQVksQ0FBQyxFQUNyRCxLQUFNLENBQUVDLFVBQVcsQ0FBQyxFQUFBTixjQUFBLEdBQUFJLENBQUEsTUFBR0MsT0FBTyxDQUFDLHNCQUFzQixDQUFDLEVBRXRELGNBQWUsQ0FBQUUsY0FBY0EsQ0FBQ0MsR0FBRyxDQUFFQyxHQUFHLENBQUUsQ0FBQVQsY0FBQSxHQUFBVSxDQUFBLE1BQUFWLGNBQUEsR0FBQUksQ0FBQSxNQUN0QyxHQUFJLENBQ0YsS0FBTSxDQUFBTyxjQUFjLEVBQUFYLGNBQUEsR0FBQUksQ0FBQSxNQUFHLEtBQU0sQ0FBQUYsUUFBUSxDQUFDLDBCQUEwQixDQUFDLEVBQUNGLGNBQUEsR0FBQUksQ0FBQSxNQUNsRSxNQUFPLENBQUFLLEdBQUcsQ0FBQ0csTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUNGLGNBQWMsQ0FBQyxDQUFFO0FBQy9DLENBQUUsTUFBT0csS0FBSyxDQUFFLENBQUFkLGNBQUEsR0FBQUksQ0FBQSxNQUNkVyxPQUFPLENBQUNELEtBQUssQ0FBQywwQkFBMEIsQ0FBRUEsS0FBSyxDQUFDLENBQUNkLGNBQUEsR0FBQUksQ0FBQSxNQUNqRCxNQUFPLENBQUFLLEdBQUcsQ0FBQ0csTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUMsQ0FBRUcsT0FBTyxDQUFFLHVCQUF3QixDQUFDLENBQUMsQ0FDbkUsQ0FDRixDQUVBLGNBQWUsQ0FBQUMsb0JBQW9CQSxDQUFDVCxHQUFHLENBQUVDLEdBQUcsQ0FBRSxDQUFBVCxjQUFBLEdBQUFVLENBQUEsTUFBQVYsY0FBQSxHQUFBSSxDQUFBLE1BQzVDLEdBQUksQ0FDRixLQUFNLENBQUFPLGNBQWMsRUFBQVgsY0FBQSxHQUFBSSxDQUFBLE1BQUcsS0FBTSxDQUFBRixRQUFRLENBQUMsMEJBQTBCLENBQUMsRUFDakUsS0FBTSxDQUFBZ0IsSUFBSSxFQUFBbEIsY0FBQSxHQUFBSSxDQUFBLE1BQUdJLEdBQUcsQ0FBQ1csTUFBTSxDQUFDRCxJQUFJLEVBRTVCO0FBQUFsQixjQUFBLEdBQUFJLENBQUEsT0FDQSxHQUFJLE1BQU8sQ0FBQWMsSUFBSSxHQUFLLFFBQVEsQ0FBRSxDQUFBbEIsY0FBQSxHQUFBb0IsQ0FBQSxTQUFBcEIsY0FBQSxHQUFBSSxDQUFBLE9BQzVCLE1BQU8sQ0FBQUssR0FBRyxDQUFDRyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQyxDQUMxQkcsT0FBTyxDQUFFLG1EQUNYLENBQUMsQ0FBQyxDQUNKLENBQUMsS0FBQWhCLGNBQUEsR0FBQW9CLENBQUEsVUFFRDtBQUNBLEtBQU0sQ0FBQUMsZUFBZSxFQUFBckIsY0FBQSxHQUFBSSxDQUFBLE9BQUdPLGNBQWMsQ0FBQ1csSUFBSSxDQUN4Q2IsR0FBRyxFQUFLLENBQUFULGNBQUEsR0FBQVUsQ0FBQSxNQUFBVixjQUFBLEdBQUFJLENBQUEsY0FBQUssR0FBRyxDQUFDYyxjQUFjLEdBQUtMLElBQUksQ0FBRCxDQUNyQyxDQUFDLEVBQUNsQixjQUFBLEdBQUFJLENBQUEsT0FDRixHQUFJaUIsZUFBZSxDQUFFLENBQUFyQixjQUFBLEdBQUFvQixDQUFBLFNBQUFwQixjQUFBLEdBQUFJLENBQUEsT0FDbkIsTUFBTyxDQUFBSyxHQUFHLENBQUNHLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDUSxlQUFlLENBQUMsQ0FDOUMsQ0FBQyxLQUFBckIsY0FBQSxHQUFBb0IsQ0FBQSxVQUVEO0FBQUFwQixjQUFBLEdBQUFJLENBQUEsT0FDQSxNQUFPLENBQUFLLEdBQUcsQ0FBQ0csTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUMsQ0FBRUcsT0FBTyxDQUFFLHNCQUF1QixDQUFDLENBQUMsQ0FDbEUsQ0FBRSxNQUFPRixLQUFLLENBQUUsQ0FBQWQsY0FBQSxHQUFBSSxDQUFBLE9BQ2RXLE9BQU8sQ0FBQ0QsS0FBSyxDQUFDLGdDQUFnQyxDQUFFQSxLQUFLLENBQUMsQ0FDdEQ7QUFBQWQsY0FBQSxHQUFBSSxDQUFBLE9BQ0EsTUFBTyxDQUFBSyxHQUFHLENBQUNHLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLENBQUVHLE9BQU8sQ0FBRSx1QkFBd0IsQ0FBQyxDQUFDLENBQ25FLENBQ0YsQ0FBQ2hCLGNBQUEsR0FBQUksQ0FBQSxPQUVEb0IsTUFBTSxDQUFDQyxPQUFPLENBQUcsQ0FDZmxCLGNBQWMsQ0FDZFUsb0JBQ0YsQ0FBQyJ9